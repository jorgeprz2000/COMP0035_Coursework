# Coursework 1 - Jorge Perez

# _Choice of Methodology_ :book:<h1> 

  For this project of software engineering, I will be using the SCRUM Method. In order to justify this method I will be comparing it to two other processes: CRISP-DM and TDSM. This way, I will be comparing a method that is often used for Data science (CRISP-DM), Software Engineering (SCRUM) and a hybrid (TDSM). The Criteria I will be using to justify my choice of SCRUM is:
  
  * Level of Volatility
  * Sense of Accomplishment
  * Timeline of project
  * Team location
    
  After careful thought of my own preferences and the nature of the data I will be using, it was concluded that these are the criteria which are most important for the method to meet. 

 ## Level of Volatility <h2> 
Given the nature of the market from which the data is being drawn, it is crucial that the methodology that I chose is capable of adjusting to the volatility of the film industry. The Revenue and box office sales of movies is extremely volatile when it comes to movies that do not have a cast of celebrities. this means that the process which I choose must be able to adapt to these changes accordingly. On top of this, due to the short time span of the project, It is almost inveitable that I continuosly change parts of my project. This is because due to the near deadline, I will develop a clearer idea of what I want the project to look like as I work on it meaning it will be constantly changing project.
  
  ## Sense of accomplishment and cooperation<h2> 
  As someone who constantly procastinates and has trouble staying motivated, a methodology that constantly gives a sense of accomplishment and progress is essential for this project. Through every step of the project, there should be a constant feeling of progression. On top of this, assuming this project will be completed by around 4 or more software engineers, it is essential that the method promotes collaborations. At all moments, everyone should be aware of what each person is doing, be able to give constructive criticism and help in dire situations. This way, everyone in the team can ensure that the team is staying on track.
  
  ## Timeline of project <h2>
  Though this may be the most obvious criteria, it is also the most important. The method  must be viable in the short time frame (8-10 weeks) that I have to complete the project. Therefore, the method must be intense, fast-paced and etremely efficient. One of the ways that this can be ensured is by making sure that at every point of the project, everyone knows exactly what they should be doing, and what to do next when they are finished with their current task. The method must therefore be very instructive and organized. 

  ## Team Location <h2>
  Due to the pandemic and how difficult it can be to meet in person, the methodology must also be flexxible in terms of the way in which the group meets. It must not rely exclusively on face-to-face interaction as this may not be possible at times. In the same manner, it must also not depend on remote commuication exclusively as face-to-face interaction will also be an essential part of the collaborative experience of the project. 
  
After evaluating these i came up with the following table in which each method is evaluated in light of the criteria:
  
Criteria | SCRUM | CRISP-DM | TDSM
------------ | ------------- | ------------ | -------------
Level of Volatility | The workflow in a software engineering project is non-linear. With Scrum, due to its interactive nature and the way in which the project is divided into several sprints, if something needs to be changed or redone, it is not necessary to begin from the beginning. Moreover, the daily scrum meetings allow for constant collaboration and criticism from the fellow peers which can help get over the daily problems one can encounter instead of tackling them alone ((Scrum Guide Scrum Guides, 2021).| Due to the almost waterfall-like nature of CRISP-DM, it doesn’t seem like its as flexible to the volatility of the project as SCRUM. As a result of the process being very linear until you get to the evaluation stage (Taylor, 2021), it seems that if there is something that needs to be changed, you will have to redo a significant part of the project. This is a result of the project not being split up into sprints like in SCRUM. As a result, if something has to be changed, I most likely have to restart from the beginning. This is one of the reasons why CRISP-DM is often compared to the Waterfall method (CRISP-DM - Data Science Process Alliance, 2021). | As a result of TDSP being an iterative and agile method, it has the flexibility to adjust to both the volatility of the market and of the project. Throughout the process, you are allowed to adjust the business understanding, and then adjust the modelling and data acquisition etc. You are permitted and even encouraged to change your ideas as you progress. The problem however, is that since TDSM is meant for machine learning as well as more complex endeavours than that which will be done, it may have certain steps which come off as redundant and may even confuse the team (What is the Team Data Science Process? - Azure Architecture Center, 2021). |
Sense of Accomplishment and cooperation| In Scrum, the way the method is structured results in constant motivation. Since the project is divided into sprints, apart from this adding to the flexibility of the workflow, it also gives a constant feeling of progress and accomplishment to the team as there will always be something to check off as being done. This constant objective setting also means that there is always something to do meaning the workflow will remain efficient (Vogelzang, Admiraal and van Driel, 2019).| As a result of the CRISP-DM methodology not splitting the project into several small 'sprints', it feels as if there will be times in the project where the team may not feel motivated or accomplished. Unlike in the SCRUM method, this method does not have the ability to give the team a constant sense of moving forward, and does not show off their accomplishments in a sense. However, the straightforward methodology may help the team always know what to do and give little room for confusion.| TDSP does not seem to provide constant motivation and encouragement. This is because meetings are not scheduled, and due to the complex tasks TDSP is meant to be used for, there seems to be an overwhelming amount of things to do at the same time. This may actually work against the team morale. This is one of the problems of having an interactive method that is meant for very large projects. |
Timeline of Project | Scrum, it seems, will adapt well to the timeline of the project at hand. Since sprints take 2-4 weeks at a time, given that the project is divided into no more than 5 sprints, it should be achievable in the 10 weeks. This intensity can be seen  as there is a meeting every work-day and deadlines to meet. Though stressful, it will ensure that the project is finished in time. | Though CRISP-DM isn't as fast-paced as SCRUM, there is no reason to think that it would not work for the given timeline of the project. Since there are no specific times set for each phase, I can adjust accordingly as to how long to spend on each stage of the process. However, since there are no real guidelines on how long each part of the process should take, I worry that I will not allocate my time efficiently and misjudge how long each phase should take, resulting in spending too much time on some stages and not enough on others.| Due to the complexity of the method, it seems that TDSP will not adjust well to the timeline of the project. Again, due to it being meant for large projects, there are many steps which may be redundant in the current project and slow down the team process. |
Team Location| Given that Scrum depends so heavily on communication and SCRUM meetings, it may be complicated to maintain this communication if, given the current pandemic, some of the team members need to access the meetings online. This is further complicated if for whatever reason some people have to go to a different country, where the time zone may be different. However, what is also good about scrum is that it is made for small groups (Scrum Guide Scrum Guides, 2021) which is ideal for this project.| Given that CRISP-DM does not detail as much regarding when and how often the team will meet, it seems like the method will adjust well if some teammates need to move. | Similarly to CRISP-DM, since TDSP does not primarily rely on team meetings, it seems like it will be well-suited for the teams location, no matter where that is. On top of this, since this method encourages using cloud services or public repositories, this can facilitate collaboration even more. (CRISP-DM - Data Science Process Alliance, 2021)|

  ## Conclusion <h2>

Taking the table above into account, it becomes clear that SCRUM is the best method for this project. The project is too simple to use a complex method such as TDSP. On top of this, SCRUM meets two criteria that the others dont; Sense of accomplishment and motivation. Though the two others are very well structured, SCRUM is the only method which splits up the project into manageable pieces that aren’t overwhelming, or redundant. The former it seems is done in CRISP-DM whilst the latter, due to the complexity of the projects that TDSP is usually used for, is what working with TDSP would feel like in this project. The main selling point in SCRUM that the others don’t have is the constant collaboration and motivation, and this is what primarily led me to choose it.

Problems that may arise with SCRUM involve, as seen above, team location. If for some reason this collaboration can’t take place, the methodology will be damaged greatly. On top of this, as there is a "scrum master" who is in charge of leading the scrum meetings and the scrum method in general (2021), if such person is absent, the productivity of the team may diminish. In order to avoid this, non face-to-face methods of work should be considered, such as zoom, slack or microsoft teams. In this way, the method will implement some aspects of TDSP and CRISP-DM. Moreover, in order to overcome the lack of specific goals that SCRUM has, when beginning the data processing part of the project, it is very likely that CRISP-DM will be implemented to a small scale. 

# _Business Need_ :dart: <h1>

## Problem Statement <h2>

Apart from other factors such as the cast, production, and marketing of a movie, some excellent movies flop in terms of box office sales. Why could this be? Sometimes, distributors of movies will time their release poorly, and will only get a fraction of the revenue they deserve. This timing may have been bad as it could have been in a season where people are less likely to go outdoors, or because of other headliners in the box office that week, that may have attracted the consumers attention more. Take for example, Children of men, Ali, The assasination of Jesse James etc. Though these movies had a great cast, and a good reception by critics, they still bombed at the box office (Stolworthy, 2021). 

This is a problem that has been in the film industry world-wide for years. More recently, given the growing distributors of movies and ever-increasing money in the movie industry (Escandon, 2021), competition on release week is becoming an especially important variable to consider when releasing a movie. Therefore, this aspect of the quantitative analysis will be especially relevant today. 

As a result of this bad timing, there are negative consequences for producers and consumers of such films. Firstly, there will be a loss in potential box office sales and revenue due to the timing of release, and secondly, there will be an opportunity loss for viewers who could have enjoyed the movie will not have watched it. Though there is no strict data on how often this happens, we all have movies which we think are “underrated” or did not gain the traction they deserved, and this may well have been as a result of this bad timing. 

Distributors of movies could thus do with a quantitative analysis of how well movies sell at different types of the year, as well as how much competition affects their box office sales. This could then help avoid excellent movies not reaching the amount of people as they could, as well as the amount of box office sales they deserve. 

## Target Audience <h2>
  
For a project like this, the main target audience would be a professional film distributor, that is, the person who decides when to release specific movies. However, this project may also be of interest to other members of the film industry such as directors, as the deadline for their movies may change depending on the data that they receive from this application. Such person can be shown below:
  
![Image of Persona](https://github.com/ucl-comp0035/pbl1-jorgeprz2000/blob/main/Richard%20Harvey.png)
  
## Main Questions <h2>

* What month had the highest average box office sales in the past year?
* Did this change before and after the COVID-19 Pandemic?
* Does the number of movies headlining in the box office affect average box office sales?
  
## Data preparation and exploration
### Data preparation

It was first important to look back at the questions generated for this coursework to decide what will be needed and what can be removed from each dataset. Upon looking at this, it was clear that I needed to be able to compare the average box office sales in opening weekend for movies in each month in each year, as well as  how the number of movies released affects this. It became clear that I would need to merge a lot of files, as if I wanted to analyse different years, I need to merge the week files into months and the month files into years. 

The first task was  downloading all the data I was going to use and ordering this data into month folders, which were then in their respective year folders. Then, the next task was making a for loop that would look through each individual file for each month for each year so that I could clean several files at once. This was done using the library ‘os’. 

The next step was to write code to clean each individual week using this for loop. First by printing `df.columns` and `df.isnull()` for a random week file I saw that they had unnecessary columns and plenty of empty spaces. On top of this, by printing `df.head()` I also saw that the datasets included movies which had been released more than a week ago. Therefore, I dropped the columns I didnt need, removed and didnt replace the empty spaces in each file (as these were formatting spaces) and only kept films which had just released. I made sure to take into account the 'Unnamed columns' that existed, as well as the inconsistencies in their existence. In order to do this I passed an `errors = ignore` parameter to the drop function in the for loop. I then had to concatenate each week into a month, and then converted this final month list into a dataframe using `pd.concat`.  Finally, this code had an output of a file called ‘month.xlsx’ which was saved in each month folder.

The final step was then to make another function that used a for loop which would allow the user to merge all of these month files into a year file which had an additional column detailing the average box office sales per month. This will allow me to see how competition affects average box office revenue on release weekend. 

I decided to make functions in each file to increase the usability and flexibility of the program. This way, so long as BFI keeps publishing data, new data can be used and analysed using the same function as long as it is downloaded and organized accordingly. 
  
[Data Preparation file](data_cleaning_months.py)
  
### Prepared data sets

[Original data set](DATA)
  
[Prepared data set](Data_output)
  
### Data exploration:
  
The data was checked for outliers in each year. Though as can be seen in the boxplots, there were two outliers in the 2019 Data set, I decided to keep them in and not remove them. This was because once I inspected the data, I saw that one of the outliers belonged to July 2019, in which “Spiderman: Far-from-home” was released and Avengers Endgame was released. Since these are marvel movies, and marvel movies tend to always perform incredibly well at the box office (Marvel Comics films: budgets & box offices 2021, Statista, 2021), this was decided to be in the realm of normality and thus was left in. 

Finally, the data was explored to answer the research questions by first graphing a line chart and bar chart that show how average box office sales on release weekend changes depending on the month and the year. This will allow me to see what month is optimal to release a movie each year and how this has changed from pre to post covid. On top of this, a scatterplot was created that plots the relationship between number of movies being released on the same month, and average box office sales that month. This will allow me to answer the final research question: “Does the number of movies headlining in the box office affect average box office sales?”. However, it is important to note that there are missing months in 2020 and 2021. Though these files are missing, I decided that it was still important to analyze how the other months performed in each year, especially since they can give insight on how COVID affected the BFI. 
  
For the visualizations created (linked below), I made it so that the user can specify which year they want the visualizations to be made for simply by writing in the year in the 'year' variable. 

[Data exploration python file](data_visualization_and_exploration.py)
  
[Visualizations created](Data_output/Images)

# **Coursework 2** 
  
## Requirements
 
### Method for choosing a requirement elicitation:

As a result of the secondary research limitation of this project, as well as the time frame, it seems that the best method for the requirement elicitation will be to brainstorm. Brainstorming consists of three stages, the preparation, in which you develop a clear idea of the area of interest, the session, in which the team members share any ideas they might have, with no discussion, and finally, the Wrap-up, in which you discuss and evaluate the ideas (Brainstorming, 2021)
   
### Requirement specification Method:

Now that we have a method to find the requirements of the project, it is important to decide on a methodology in order to specify such requirements. Out of the methods available, I have chosen to use User stories along with acceptance criteria. This is because user stories give the team a clear idea of what to build, for who to build it for, and when to build it. Including acceptance criteria will ensure that there is no room for interpretation as it will state concisely what is needed for this user story to be completed. This choice is typical for an agile method such as SCRUM, which I am using.

### User Requirements
  
 To order the requirements in regards to their importance, the MoSCoW method was used. This method orders the requirements by first, those the design must have, should have, could have, and won't have. 
  
Must haves:
* As a casual user I want to be able to see all of the visualizations for each year, so that I can decide when is best to release my movie
* As the box office I want my box office sales to be analysed ethically and respectfully
* As an admin of the website I want to be able to suspend accounts that may be harming other users of the website in order to prevent toxic use of the platform
* As a casual user I want to be able to comment, give criticism and share my views on posts, in order to improve the website and engage in meaningful conversation

Should have:
* As a casual user I want to be able to share my views on a forum that the website has, so I can participate in constructive discussion with other film distributors. 
* As a casual user I want to be able to search using a search bar in order to find the visualisations I am looking for quickly
* As a casual user I want to be able to share the visualizations directly through social media such as email, or whatsapp so that I can share them with my co-workers 
* As a casual user I want to be able to look for certain years or specific criteria in the website so that I can decide to only look at a specific year if need be
* As a casual user I want to be able to use the data implemented to the website, so that I can also analyse any box office sales that have not been included
* As a casual user I want to be able to see other casual users’ profiles so that I can meet people with like-minded interest
* As a casual user I want to be able to save visualizations I find interesting, in order to look at them later 
* As a casual user I want to be able to read certain news or important information regarding the box office sales in order to always be aware of what is happening currently

Could have:
* As a casual user I want to be able to have an account, so that I can access and manage all of my comments and interactions
* As a casual user I want to be able to like certain visualisations that I find especially useful, so that both the creator can know, as well as other professional film distributors

Won't Have:
* As a casual user I want to be able to see the activity of other film distributors, in order to know what they think is interesting to look at right now. 
* As a casual user I want to be able to obtain a daily summary of important news through a video format in order to obtain information in a quick and fun way
* As a casual user I want to be able to be able to change the colors of my front page, so that I have a layout I find aesthetically pleasing

### Acceptance Criteria for Must Haves:
  
In order to be more accurate when describing what is meant by the Must haves, an acceptance criteria was written for these use cases:
  
“As a casual user I want to be able to see all of the visualizations for each year, so that I can decide when is best to release my movie”

* Given I want to see visualizations of box office sales for a certain year, when I look up a specific year in my search bar then I should see the visualizations for that year
* Given I am interested in the box office sales for a year in the past, when I look up such year in my search bar, then there should be visualizations abailable for that year and many other years
* Given I lack information on what exactly happened in the start of the pandemic, when I look up the year in which the pandemic lockdown happened, then I should obtain a general analysis of how the pandemic affected box office sales along with the respective visualizations
   
“As the box office I want my box office sales to be analysed ethically and respectfully”

* Given I allow the admins of the website to use my box office data, when they publish anything using my data, then they should include disclaimers which outline the usage rights I provide them with
* Given a user of the website wants to use my data, when they file a report to download my data, then I should receive such a report and the reasoning for them wanting my data and be able to decide whether or not it is appropriate to lend my data.
* Given visualizations or posts are made with my box office data, when a user comments something inappropriate or disrespectful, then the admin of the website should delete comments and help maintain a healthy non-toxic relationship. 
* Given visualizations or posts are made with my box office data, when a post is made, then my data should be cited appropriately. 
 
“As an admin of the website I want to be able to suspend accounts that may be harming other users of the website in order to prevent toxic use of the platform.”
  
 * Given the comments and forum section is free to use by any user, when a user posts something inappropriate then I should have the ability to ban such user from posting anything else comment
* Given the comment section is free to use by any user, when a comment is made that violates our policies of respect, then I as an admin should be able to delete these harmful comments

“As a casual user I want to be able to comment and give criticism and share my views on posts, in order to improve the website and engage in meaningful conversation”
  
* Given visualizations can be commented on, when a visualization is lacking in quality, then I should be able to comment criticism in order to improve visualizations in the future
* Given forum posts can be commented on, when another user posts something I am interested in discussing, then I should be able to engage in conversation with such user. 
  
### UML use case diagram
  
The most essential and complex use cases of this application can be shown below with the UML use case diagram, which highlights the interplay of; posting and reporting posts, as well as logging into the application. This technique was employed because it is one of the most efficient ways to give the reader an idea of how the user interacts with the system being built (How a use case diagram can benefit any process—and how to create one, Cacoo, 2021)
  
![UML use case diagram](https://github.com/ucl-comp0035/Jorge-Coursework/blob/main/UML%20Use%20case%20diagram%20-%20Page%201.png)
 
  
## Application Design
  
Using the Design Pattern of an MVC (Model, View and Controllers), the application design will be split up into each of these. The Wireframes represent the views, the Class design represent the models, and finally, the routes represent the controllers. 
  
### Structure and Flow of the Interface
  
  ![Wireframe Design 1](https://github.com/ucl-comp0035/Jorge-Coursework/blob/main/Wireframe_2.png)
  ![Wireframe Design 2](https://github.com/ucl-comp0035/Jorge-Coursework/blob/main/Wireframe_COMP%20(3).png)

### Why Mobile Design?
  
Rather than designing a desktop-based interface, it was decided to design a mobile interface. This is because the application's posts will be both short and constantly changing. This short-interaction interface is more suitable for mobile devices which we carry around everywhere. This application is expected to be used in the mornings, as the users commute to work, so that they can get a quick summary of what is happening in the box office and what people are talking about. This way, without having consumed much of their time, they can arrive at work informed, up to date, and productive.
 
## Wireframe Explanation
  
The six interfaces above (each labelled) demonstrate different functionalities of the application. From left to right, the first row of wireframes demonstrate the Home page, the forum homepage, and the side menu. 

**Home Page** - The home will have a search bar on the top, which is in the middle of the profile picture as well as the activation button for the side menu. In the search bar, the user can look for forum posts, visualisations or news posts by keywords such as years. By clicking the file icon on the right of the search bar, the user will get to the “User profile” page which will be detailed later.  Below this upper section is a filtering option to filter the variety of posts, forums and news by either what is “trending”, “hot” or “new”, similar to the interface that Reddit uses. In each individual post there will be a like count as shown, which displays the amount of users that like a post. By then clicking on the post, the user will get to a page such as the “Data Homepage" shown in the other wireframe, which displays the post in more detail as well as the comments that it has. 

**Forum Homepage** - This part of the application will work very similar to the homepage detailed previously, but will only show forum posts. These consist of questions, debates or general posts in which users engage with each other. These will also have a like count. The news and visualizations/data home page will have the same layout.

**Side Menu** - At every point of the user’s interaction with the application the side menu will be accessible through clicking the button with three horizontal lines stacked on top of each other. When this button is clicked on, the “Side Menu” interface will be shown, which gives the user quick access to go to either their profile, the home page, the forum home page, news home page or data home page.

The Second row of wireframes demonstrate a Clicked on Post, the comments section of a post, and the user profile page. 

**Clicked on post** - This is the design for when a post is clicked, which could be either a data visualisations as what is shown, or a forum or news post. All types of post will have the same type of format. At the top any relevant image such as a visualization will be displayed, along with the text which could be the forum question itself, and below this, the comments section. 

**Comments section** - The comment sections for when a post is clicked on will display comments stacked on top of each other, with the respective profile pictures of the authors to the left. Below these comments there will be the “Download Dataset Button” for the visualizations. If the post that is clicked on is not a visualization, this button will not appear. Below this button are any legal disclaimers detailing the usage right of the post and or data set. It is not known yet what specifically will be put here. 

**User profile** - By either clicking on their own icon, or another user's icon, the user will be directed to a user profile. This will provide an enlarged profile picture of the user, as well as their public information such a name, age, occupation and work location. Below this, if the user chose to write one, will be a biography detailing the user's profile. 
  
## Classes:

In order to find the classes that will be used in the application, a DDD (Data Driven Design) approach was implemented. This consisted of going through the User stories that were ordered according to their importance using the MoSCoW method and underlining the nouns (classes), Adjectives (attributes) and finally the verbs (operations and functions). When this was done, the following classes were come up with and ordered in a UML class diagram. A parent class “user” was made in order to reduce the repetition of attributes that admins and film distributors have. The reason a DDD approach was applied through the highlighting method was because of its simplicity and intuitiveness. It offers a quick, detailed and efficient way to identify classes, as long as the use cases have been documented appropriately. 

### UML Class Diagram:
    
![Class Diagram](https://github.com/ucl-comp0035/Jorge-Coursework/blob/main/UML%20class%20Diagram%20-%20Page%201.png)
  
The classes made are two parent classes; Post and User. Post has the children classes News_post, Forum_post and Visualization_post, and User has the children classes; Admin and Film_distributor. The posts were decided to come from one parent class and then split into children classes because while all types of post share attributes shown in the parent class, they will have certain different attributes such as news headlines, graphs etc. Moreover, two different types of users were created as there are two parties needed to operate the app. The admin, whose job is to delete harmful comments, accounts or posts, and the film distributor, who will be using the functionality of the application. While these have similar attributes as shown by the User parent class, they will also have different attributes and methods, as an Admin will be capable of doing things that a casual user cannot, such as moderating the website. Finally, a class for comments, and for a functionality in which the saved graphs will be stored was made. The relationships between all of the classes aforementioned can be seen in the UML diagram:

A UML class Diagram was employed primarily due to my belief that complex ideas can be most effectively transmitted through pictorial representations. Out of the pictorial representations I could have implemented, UML class diagrams seemed the most appropriate as it encourages the creator to really think about the interactions that the classes will have before programming, and also provides anyone looking at it with a vast amount of information on the classes such as the relationship between them, attributes, multiplicities etc, in a way that is not overwhelming or strains the eye. It seemed to be the only pictorial representation for classes that met all of these criteria, and thus, was chosen to be implemented (Hill, 2021).
  
Note that the type of Images was simply put as ImageType. This refers to the variety of formats that image can take such as: jpg, png, pdf etc. Moreover, as Binary was put for Role: this implies that an admin will be signified by a 1, and a non-admin (film distributor) will be signified by a 0. This greatly simplifies the input requirements.
  
## Routes

| Route|View Description |Controller Function|
|-----|-------------|------|
|‘/’|Homepage|index() - returns home page template|
|‘user/username/’|User profile| display_profile(username)- returns profile info for certain user|
|‘/forum/createpost/’|Write forum|write_forum() - write forum with title, description, and more|
|‘/forum/”|Forum homepage|forum() - returns forum page template|
|‘/forum/post_id”|Forum posted (identified by post_id)|forum_post(post_id) - returns forum page template|
|‘/forum/post_id/new-comment”|creates new comment in forum post (identified by ID)|forum_post_comment(post_id) - Comment drafting page in post (identified by post_id)|
|‘/news/’|News front page|news() - returns news front page template|
|‘/news/news_id’|News post (identified by newsid)|news_post(news_id) - returns news front page template|
|‘/news/news_id/new-comment’|Comment drafting page in News post (identified by newsid)|news_post_comment(news_id) - returns drafting page for email|
|“/user/new”|Create new user|create_user() - creates a new user|
|“/user/new/user_id”|profile page of user (recognized by user_id)|view_user(user_id) - returns profile page of user with user_id|
|“/visualizations”|Home page of visualizations|data() = returns home page of visualizations|
|“/visualizations/graph_id”|Visualization post|visualization_post(graph_id) = returns specific visualization post|
|“/visualizations/graph_id/new-comment”|Comment drafting page in news post (identified by news_id)|visualization_post_comment(graph_id) = returns drafting page for comment|
|"visualizations/year"|Visualziation for specific year|data_filter() - returns visualizations that meet the year criteria|
|"data/data_id/download"|Download data_id|Download_data(data_id)-downloads data for the chosen data file|

## Database Design
  
The structure of the Database can be represented through the ERD diagram below. Similarly to how the classes were found, a Data driven design approach was used in order to find the entities and their keys. An ERD was chosen to be implemented for many of the same reasons a UML class diagram was implemented. These are primarily it's intuitiveness, simplicity and ability to communicate a lot of different information on the entities without becoming overwhelming (What is an Entity Relationship Diagram (ERD)?, 2021). 
  
![ERD Diagram](https://github.com/ucl-comp0035/Jorge-Coursework/blob/main/ERD%20Diagram.png)

The application will have mostly 3 functions:
1. Reading news on the visualisations and commenting on them
2. Posting and replying to posts relevant to the visualisations
3. Looking at recent visualisations posted on a monthly basis and commenting on them

Therefore, there are the following tables:
  
* Comments - the comments that a user makes which are shown on the forums, visualizations and news that he comments on
  
* User - The information of the user, including email, name, occupation and finally, user_type.
  
* News post - News posted which detail the users on relevant headliners
  
* Data_file - The data files which are used to make the visualizations. These will be referred to when posting a visualization
  
* Visualisation - The visualizations created using the data files. This will be referred to in any news or forum that uses them.
  
* Forum_Post - Posts which users can make asking questions, or constructive conversations
  
* Bookmarked_Visualizations - Visualizations that the user chose to bookmark due to them being of particular interest to them. 
  
* User_type - this will store whether or not the user is an admin or a Film distributor (casual user). This will be signified in a binary way using integers, where an admin is 1, and a film distributor is 0.

### Normalization
  
The Schema above represents the structure of the relational database in third normal form. We can test this by going through the first second and third conditions for normal form:

1st Condition: 
* Each Cell can only contain one value
* Each Table must have a primary Key
* All attributes must be atomic

Looking through the diagram we see that every table has a Primary Key, symbolised by “PK”, there is not a single attribute that would have more than one value, And the attributes are all atomic.

2nd Condition:
* 1NF
* Every attribute is dependant only on the full PK

Again, if we look through the diagram we see that each attribute is only dependent on either the PK, or the composite PK in the case of the table Bookmarked visualisations. 

3rd Condition
* 2NF
* No non-key attribute is transitively dependent on any key. All the non-key-attributes must depend on the primary key only

Finally, if we once again look through the diagram we see that there is no instance where an attribute, as a result of being dependent on a key attribute, is dependent on any non-key attribute. 

## Testing
  
Test Folder [here](https://github.com/ucl-comp0035/Jorge-Coursework/tree/main/test)
  
In order to program the test for the code in "user_class", the unittest library for python was used. These were programmed using fixtures in conftest, and then writing individual tests in "test_user.py". After these tests were written, they were also tested for a coverage report shown in the screenshots. 
  
### Running tests

 Firstly, after creating the tests, all of them were run, as can be seen in the following screenshot:

 ![proof of testing](https://github.com/ucl-comp0035/Jorge-Coursework/blob/main/test_proof/Running%20test.png)
  
 Afterwards, a coverage report was run for these tests as shown here:
  
 ![coverage report](https://github.com/ucl-comp0035/Jorge-Coursework/blob/main/test_proof/coverage%20report%20proof.png)
  
### Continuous Integration
  
A continuous integration pipeline was set up in Github using Github Actions. This means that every time that something is changed in the repository, Github runs the unitests tests as well as checks for faulty or incorrect code. This greatly decreases the probability of errors and ensures that the code written is of the highest standard. This code quality standard is evaluated with the lint testing in continuous integration which, as shown below, gives recommendations on how to make the code more efficient and adhere to the python code guidelines.  Below this, it can be seen that the continuous integration also runs the tests designed. Finally, on the bottom is a screenshot of everything that the Continuous Integration Pipeline tests when a commit is made.
  
![lint8 Report](https://github.com/ucl-comp0035/Jorge-Coursework/blob/main/test_proof/Continuous%20Integration%20proof%20(Lint).png)
![Continous integration testing](https://github.com/ucl-comp0035/Jorge-Coursework/blob/main/test_proof/Continous%20Integration%20proof%201.png)
![Continous Integration testing overview](https://github.com/ucl-comp0035/Jorge-Coursework/blob/main/test_proof/Continous%20integration%20overview.png)
  
## References

2021. [online] Available at: <https://thinkingportfolio.com/5-problems-with-scrum-you-need-to-avoid/> [Accessed 9 November 2021].

BABOK Page. 2021. Brainstorming. [online] Available at: <https://babokpage.wordpress.com/techniques/brainstorming/> [Accessed 21 December 2021].
  
Cacoo. 2021. How a use case diagram can benefit any process—and how to create one | Cacoo. [online] Available at: <https://cacoo.com/blog/how-a-use-case-diagram-can-benefit-any-process-and-how-to-create-one/#:~:text=When%20using%20Unified%20Modeling%20Language,team%20define%20and%20organize%20requirements.> [Accessed 21 December 2021].
  
Data Science Process Alliance. 2021. CRISP-DM - Data Science Process Alliance. [online] Available at: <https://www.datascience-pm.com/crisp-dm-2/> [Accessed 9 November 2021].

Docs.microsoft.com. 2021. What is the Team Data Science Process? - Azure Architecture Center. [online] Available at: <https://docs.microsoft.com/en-us/azure/architecture/data-science-process/overview#:~:text=The%20Team%20Data%20Science%20Process%20(TDSP)%20is%20an%20agile%2C,team%20roles%20work%20best%20together.> [Accessed 9 November 2021].

Escandon, R., 2021. The Film Industry Made A Record-Breaking $100 Billion Last Year. [online] Forbes. Available at: <https://www.forbes.com/sites/rosaescandon/2020/03/12/the-film-industry-made-a-record-breaking-100-billion-last-year/?sh=6d0c3a1834cd> [Accessed 9 November 2021]
  
Hill, A., 2021. UML Class Diagrams – Definition, Attributes, Benefits and Process - My Chart Guide. [online] My Chart Guide. Available at: <https://mychartguide.com/uml-class-diagrams/#What_are_the_benefits_of_UML_Class_Diagram> [Accessed 21 December 2021].
  
Lucidchart. 2021. What is an Entity Relationship Diagram (ERD)?. [online] Available at: <https://www.lucidchart.com/pages/er-diagrams> [Accessed 22 December 2021].

Scrumguides.org. 2021. Scrum Guide | Scrum Guides. [online] Available at: <https://scrumguides.org/scrum-guide.html> [Accessed 7 November 2021].

Statista. 2021. Marvel Comics films: budgets & box offices 2021 | Statista. [online] Available at: <https://www.statista.com/statistics/323886/marvel-comics-films-production-costs-box-office-revenue/> [Accessed 9 November 2021].

Stolworthy, J., 2021. 35 brilliant movies that flopped at the box office. [online] The Independent. Available at: <https://www.independent.co.uk/arts-entertainment/films/features/good-movies-box-office-bombs-b1953132.html> [Accessed 9 November 2021].

Taylor, J., 2021. Four Problems in Using CRISP-DM and How To Fix Them - KDnuggets. [online] KDnuggets. Available at: <https://www.kdnuggets.com/2017/01/four-problems-crisp-dm-fix.html#:~:text=The%20top%20four%20problems%20are,are%20shown%20in%20Figure%201.> [Accessed 9 November 2021].

Vogelzang, J., Admiraal, W. and van Driel, J., 2019. Scrum Methodology as an Effective Scaffold to Promote Students’ Learning and Motivation in Context-based Secondary Chemistry Education. EURASIA Journal of Mathematics, Science and Technology Education, 15(12).

Workfront.com. 2021. Waterfall Methodology - A Complete Guide | Adobe Workfront. [online] Available at: <https://www.workfront.com/en-gb/project-management/methodologies/waterfall> [Accessed 1 November 2021].



  
  
  
  
